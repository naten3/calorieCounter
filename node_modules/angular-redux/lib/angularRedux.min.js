!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("immutable"),require("redux"),require("angular2/core"),require("lodash"),require("redux-thunk")):"function"==typeof define&&define.amd?define(["immutable","redux","angular2/core","lodash","redux-thunk"],e):"object"==typeof exports?exports.angularRedux=e(require("immutable"),require("redux"),require("angular2/core"),require("lodash"),require("redux-thunk")):t.angularRedux=e(t.immutable,t.redux,t["angular2/core"],t.lodash,t["redux-thunk"])}(this,function(t,e,r,n,i){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(8)),n(r(9)),n(r(1)),n(r(5)),n(r(3)),n(r(6)),n(r(7))},function(t,e,r){var n=r(2),i=r(13),o=r(11),a=r(10),u=r(3),s=function(){function t(){this._defaultMapStateToTarget=function(t){return t},this._defaultMapDispatchToTarget=function(t){return t},this._store=u.ManagedStore.instance.getStore()}return t.prototype.mapAndValidateState=function(t,e){var r=e(t);return r?r:t},t.prototype.updateTarget=function(t,e,r){e=e.toJS(),i.isFunction(t)?t(e,r):Object.assign(t,e,r)},t.prototype.map=function(t,e){var r=this,u=t||this._defaultMapStateToTarget,s=i.isPlainObject(e)?o.default(e):e||this._defaultMapDispatchToTarget,c=this.mapAndValidateState(n.fromJS(this._store.getState()),u),d=s(this._store.dispatch);return{connect:function(t){return r.updateTarget(t,c,d),r._store.subscribe(function(){var e=r.mapAndValidateState(n.fromJS(r._store.getState()),u);a.default(c,e)||(c=e,r.updateTarget(t,c,d))})},store:this._store}},t.instance=null,t}();e.Connector=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(e,r){e.exports=t},function(t,e,r){var n=r(4),i=r(2),o=r(14),a=function(){function t(){this._storeInstance=null,this._reducers=i.Map(),this.middleware=i.List().push(o)}return Object.defineProperty(t.prototype,"initialState",{get:function(){return this._initialState.toJS()},set:function(t){this._initialState=i.fromJS(t)},enumerable:!0,configurable:!0}),t.prototype.addReducer=function(t){return this._reducers=this._reducers.set(t.identifier,t),this},t.prototype.addReducers=function(t){return t.map(this.addReducer.bind(this)),this},t.prototype.getStore=function(){if(null===this._storeInstance){if(!this._initialState)throw new Error("Missing required initial state.");if(0===this._reducers.size)throw new Error("No reducers defined. Need atleast one reducer for the store.");var t=n.applyMiddleware.apply(void 0,[o].concat(this.middleware.toArray()))(n.createStore),e=this._reducers.map(function(t){return t.create()}),r=n.combineReducers(e.toJS());this._storeInstance=t(r,this._initialState.toJS())}return this._storeInstance},t.initialize=function(e){if(null!==t.instance)throw new Error("Unable to reinitialize a read-only singleton.");if(!e)throw new Error("Missing the required callback for instance configuration.");var r=new t;return e(r),t.instance=r,r.getStore()},t.destroy=function(){delete t.instance,t.instance=null},t.instance=null,t}();e.ManagedStore=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,r){t.exports=e},function(t,e,r){var n=r(2),i=function(){function t(t,e,r){if(this._createdReducer=null,this._actionHandlers=n.Map(),void 0===t)throw new Error("Missing a required identifier for the reducer.");if(this.identifier=t,void 0===e)throw new Error("Missing a required initialState for the reducer.");this._initialState=n.fromJS(e),r&&this.addActionHandlers(r)}return t.prototype.addActionHandler=function(t,e){return this._actionHandlers=this._actionHandlers.set(t,e),this},t.prototype.addActionHandlers=function(t){var e=this;return Object.keys(t).map(function(r){return e.addActionHandler(r,t[r])}),this},t.prototype.setInitialState=function(t){return this._initialState=n.fromJS(t),this},t.prototype.create=function(){var t=this;if(null!==this._createdReducer)return this._createdReducer;var e=this._actionHandlers.toMap();return this._createdReducer=function(r,i){if(void 0===r&&(r=t._initialState),void 0===i&&(i=null),r=n.fromJS(r),null===i)return r;if(!e.has(i.type))return r;var o=e.get(i.type);return o(r,i)}},t}();e.ManagedReducer=i},function(t,e,r){var n=r(12),i=r(1);e.REDUX_PROVIDERS=[n.provide(i.default,{useFactory:function(){return new i.default}})]},function(t,e,r){function n(t,e){return function(r){var n,o,a;r.prototype.ngOnInit&&(n=r.prototype.ngOnInit),r.prototype.ngOnInit=function(){var r=t?t.bind(this):this.mapStateToTarget.bind(this),a=e?e.bind(this):this.mapDispatchToTarget.bind(this),u=(new i.default).map(r,a);o=u.connect(this),this.store=u.store,n&&n.apply(void 0,arguments)},r.prototype.ngOnDestroy&&(a=r.prototype.ngOnDestroy),r.prototype.ngOnDestroy=function(){o(),a&&a.apply(void 0,arguments)}}}var i=r(1);e.ConnectToStore=n},function(t,e){},function(t,e){var r=function(){function t(t,e){this.creator=t,this.handler=e}return t}();e.ManagedReducerActionArgs=r},function(t,e){function r(t,e){if(t===e)return!0;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!e.hasOwnProperty(r[i])||t[r[i]]!==e[r[i]])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,r){function n(t){return function(e){return i.bindActionCreators(t,e)}}var i=r(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){t.exports=r},function(t,e){t.exports=n},function(t,e){t.exports=i}])});